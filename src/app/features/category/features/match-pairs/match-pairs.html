<div class="game">
  <div class="game__header">
    <h2 class="game__title">MATCH PAIRS</h2>
    <div class="game__mode-control">
      <div class="game__mode-buttons">
        <button class="btn icon" (click)="restartGame()">
          <mat-icon>sports_esports</mat-icon>NEW GAME
        </button>
        <button class="btn icon" (click)="shuffleCards()">
          <mat-icon>sync</mat-icon>
        </button>
      </div>

      <mat-button-toggle-group
        [(ngModel)]="countMode"
        (change)="restartGame()"
        name="cardsCountToggle"
      >
        <mat-button-toggle value="all">ALL</mat-button-toggle>
        <mat-button-toggle value="half">HALF</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group [(ngModel)]="easyMode" name="modeToggle">
        <mat-button-toggle [value]="true">EASY</mat-button-toggle>
        <mat-button-toggle [value]="false">HARD</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
  </div>
  <div class="game__cards">
    @for (card of cards; track card) {
      <button
        class="card bg-card"
        (click)="onCardClick(card)"
        [class.selected]="card.opened"
        [class.error]="card.error"
        [class.win]="gameWon"
      >
        <div class="card-content">
          <span class="card-text" [class.hidden]="!card.opened && !easyMode">
            {{ card.content }}
          </span>
        </div>
      </button>
    }
  </div>
</div>
